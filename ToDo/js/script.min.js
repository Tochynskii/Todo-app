const taskInput=document.querySelector(".input"),addBtn=document.querySelector(".addtask__add-btn"),todoList=document.querySelector(".todo-list");function addTask(t){t.preventDefault();const e=taskInput.value;if(e){const t=document.createElement("li");t.classList.add("todo-list__item");const o=document.createElement("button");o.classList.add("todo-list__check"),t.appendChild(o);const d=document.createElement("p");d.classList.add("todo-list__text"),d.innerText=e,t.appendChild(d);const n=document.createElement("button");n.classList.add("todo-list__btn-delete"),t.appendChild(n);const s=document.createElement("div");s.classList.add("todo-list__date");const l=new Date;s.textContent=l.toLocaleTimeString(),t.appendChild(s),todoList.insertBefore(t,todoList.firstChild),taskInput.value="",toStorage()}}function checked(t){const e=t.target;if(e.classList.contains("todo-list__check")){const t=e.parentElement;e.classList.toggle("completed"),e.classList.contains("completed")?(t.style.borderColor="rgb(3, 190, 134)",t.children[1].style.textDecoration="line-through",t.children[1].style.color="gray"):(t.style.borderColor="rgb(0, 142, 216)",t.children[1].style.textDecoration="none",t.children[1].style.color="#000"),toStorage()}}function deleteTodo(t){const e=t.target;if(e.classList.contains("todo-list__btn-delete")){const t=e.parentElement;t.classList.add("delete"),setTimeout(()=>{t.classList.contains("delete")&&t.remove()},300),t.classList.contains("item-api")||removeLocalTodo(t)}}function toStorage(){const t=document.querySelectorAll("li"),e=[];t.forEach(t=>{t.classList.contains("item-api")||e.push({text:t.children[1].innerText,date:t.lastChild.innerText,completed:t.children[0].classList.contains("completed")})}),localStorage.setItem("todos",JSON.stringify(e))}function getTodos(){let t;t=null===localStorage.getItem("todos")?[]:JSON.parse(localStorage.getItem("todos")),t.forEach(t=>{const e=document.createElement("li");e.classList.add("todo-list__item");const o=document.createElement("button");o.classList.add("todo-list__check"),e.appendChild(o);const d=document.createElement("p");d.classList.add("todo-list__text"),d.innerText=t.text,e.appendChild(d);const n=document.createElement("button");n.classList.add("todo-list__btn-delete"),e.appendChild(n);const s=document.createElement("div");s.classList.add("todo-list__date"),s.textContent=t.date,e.appendChild(s),t.completed&&(o.classList.add("completed"),e.style.borderColor="rgb(3, 190, 134)",d.style.color="gray",d.style.textDecoration="line-through"),todoList.appendChild(e)})}function removeLocalTodo(t){let e;e=null===localStorage.getItem("todos")?[]:JSON.parse(localStorage.getItem("todos"));const o=e.map(t=>t.text);e.splice(o.indexOf(t.children[1].innerText),1),localStorage.setItem("todos",JSON.stringify(e))}function addTime(){}addBtn.addEventListener("click",addTask),todoList.addEventListener("click",deleteTodo),todoList.addEventListener("click",checked),document.addEventListener("DOMContentLoaded",getTodos);